# Аналіз проекту оцінки доступності вебсайтів

## Загальний опис проекту

Це магістерський проект для оцінки доступності вебсайтів, який базується на стандарті ISO 25023 та спрямований на створення інклюзивного цифрового середовища для користувачів з обмеженими можливостями, особливо для осіб з порушеннями зору.

## Поточна архітектура проекту

### Файли проекту:
- `main.py` - головний файл для запуску аналізу
- `metrics.py` - розрахунок метрик доступності
- `requirements.txt` - Python залежності (playwright)
- `package.json` - JavaScript залежності (axe-core)
- `report.json` - результати аналізу
- `article.pdf` - наукова стаття з детальним описом методології

### Поточна функціональність:
1. **Запуск через командний рядок**: `python main.py <URL>`
2. **Використання axe-core** для базового аналізу доступності
3. **Розрахунок кастомних метрик** на основі результатів axe-core
4. **Генерація JSON звіту** з результатами

## Методологія з наукової статті

### Основні характеристики доступності:

#### 1. Перцептивність (UAC-1.1-G)
Критична для користувачів з порушеннями зору та слуху.

**Метрики:**
- **Альтернативний текст (UAC-1.1.1-G)**
  - Формула: `X = A / B`
  - A = кількість мультимедійних елементів зі змістовними текстовими альтернативами
  - B = загальна кількість мультимедійних елементів

- **Контрастність тексту (UAC-1.1.2-G)**
  - Формула: `X = Σ(A × B+) / Σ(A × B)`
  - Вимоги: ≥4.5:1 для основного тексту, ≥3:1 для допоміжного

- **Субтитри та аудіоописи (UAC-1.1.3-G)**
  - Формула: `X = A / B`
  - A = кількість відео із субтитрами або аудіоописами
  - B = загальна кількість відео

#### 2. Керованість (UAC-1.2-G)
Забезпечує можливість використання різних методів введення.

**Метрики:**
- **Навігація з клавіатури (UAC-1.2.1-G)**
  - Формула: `X = A / B`
  - A = кількість інтерактивних елементів, доступних для керування клавіатурою
  - B = загальна кількість інтерактивних елементів

- **Структурована навігація (UAC-1.2.2-G)**
  - Формула 1: `X = 0.5 × A + 0.5 × (1 - B/C)` (для глибоких рівнів)
  - Формула 2: `X = 1 - B/C` (для кореневих рівнів)
  - A = наявність хлібних крихт (1 або 0)
  - B = кількість пропущених рівнів заголовків
  - C = загальна кількість заголовків

#### 3. Зрозумілість (UAC-1.3-G)
Забезпечує простоту та ясність інтерфейсу.

**Метрики:**
- **Зрозумілі інструкції (UAC-1.3.1-G)**
  - Формула: `X = A / B`
  - A = кількість інструкцій, оцінених як зрозумілі
  - B = загальна кількість інструкцій

- **Допомога при введенні даних (UAC-1.3.2-G)**
  - Формула: `X = A / B`
  - A = кількість полів із функціями автозаповнення чи підказок
  - B = загальна кількість полів

- **Підтримка коректного введення (UAC-1.3.3-G)**
  - Формула: `X = A / B`
  - A = кількість форм із повідомленнями про помилки
  - B = загальна кількість форм

#### 4. Локалізація (UAC-2.1-S)
Адаптація до мовних і культурних особливостей.

**Формула:**
```
X = K1×A + K2×B + K3×C + K4×D
```
Де:
- K1 = 0.6 (українська мова)
- K2 = 0.2 (англійська мова)
- K3 = 0.08 (німецька/французька)
- K4 = 0.04 (інші мови)
- A, B, C, D = наявність відповідних мов (1 або 0)

### Вагові коефіцієнти підвластивостей:
- Перцептивність: 0.3
- Керованість: 0.3
- Зрозумілість: 0.4
- Локалізація: окремо з вагою 0.4

### Загальна формула доступності:
```
Загальна оцінка = 0.6 × (0.3×Перцептивність + 0.3×Керованість + 0.4×Зрозумілість) + 0.4×Локалізація
```

## Поточні проблеми та обмеження

### 1. Спрощена реалізація метрик
- Поточний код використовує бінарну логіку (0 або 1) замість точних розрахунків
- Відсутня реалізація формул з наукової статті
- Не враховуються вагові коефіцієнти з дослідження

### 2. Обмежене використання axe-core
- Використовується лише базовий функціонал axe-core
- Не витягуються детальні дані для розрахунку специфічних метрик
- Відсутня інтеграція з іншими спеціалізованими бібліотеками

### 3. Відсутність веб-інтерфейсу
- Поточна реалізація працює лише через командний рядок
- Немає поля для введення URL
- Відсутній зручний інтерфейс для перегляду результатів

### 4. Неповна реалізація метрик
- Не реалізовані всі метрики з наукової статті
- Відсутні розрахунки для структурованої навігації
- Не враховується локалізація

## Рекомендовані спеціалізовані бібліотеки та інструменти

### Основні бібліотеки для аналізу доступності:

#### 1. **axe-core** (вже використовується)
- **Опис**: Найпопулярніша бібліотека для автоматизованого тестування доступності
- **Переваги**: Підтримка WCAG 2.0/2.1/2.2, швидкість, точність
- **Використання**: `npm install axe-core` або `pip install axe-selenium-python`
- **Особливості**: Може виявити ~57% проблем доступності автоматично

#### 2. **Pa11y**
- **Опис**: Command-line інструмент для тестування доступності
- **Переваги**: Простота використання, CI/CD інтеграція, HTML звіти
- **Використання**: `npm install -g pa11y`
- **Особливості**: Підтримка різних стандартів (WCAG2A, WCAG2AA, WCAG2AAA)

#### 3. **Lighthouse Accessibility Audit**
- **Опис**: Частина Google Lighthouse для аудиту доступності
- **Переваги**: Інтеграція з Chrome DevTools, детальні звіти
- **Використання**: `npm install lighthouse` або Chrome DevTools
- **Особливості**: Комплексний аналіз продуктивності + доступності

#### 4. **WAVE (Web Accessibility Evaluation Tool)**
- **Опис**: Інструмент від WebAIM для візуального аналізу доступності
- **Переваги**: Візуальні індикатори проблем, API доступ
- **Використання**: WAVE API або браузерне розширення
- **Особливості**: Відмінний для аналізу контрасту та структури

#### 5. **Tenon.io**
- **Опис**: Хмарний сервіс для тестування доступності
- **Переваги**: REST API, детальна аналітика, інтеграція з CI/CD
- **Використання**: API ключ + HTTP запити
- **Особливості**: Комерційний продукт з високою точністю

### Спеціалізовані бібліотеки для конкретних метрик:

#### Для аналізу контрасту кольорів:
1. **color-contrast-analyzer**
   - **Опис**: Точні розрахунки контрасту відповідно до WCAG
   - **Використання**: `npm install color-contrast-analyzer`
   - **Особливості**: Підтримка WCAG 2.1 Enhanced contrast

2. **colorjs.io**
   - **Опис**: Сучасна JavaScript бібліотека для роботи з кольорами
   - **Використання**: `npm install colorjs.io`
   - **Особливості**: Підтримка різних колірних просторів

3. **Python colorsys + colour-science**
   - **Опис**: Python бібліотеки для наукових розрахунків кольорів
   - **Використання**: `pip install colour-science`
   - **Особливості**: Високоточні алгоритми контрасту

#### Для аналізу зображень та альтернативного тексту:
1. **Tesseract OCR**
   - **Опис**: OCR для витягування тексту з зображень
   - **Використання**: `pip install pytesseract`
   - **Особливості**: Може допомогти перевірити якість alt-тексту

2. **OpenCV**
   - **Опис**: Комп'ютерний зір для аналізу зображень
   - **Використання**: `pip install opencv-python`
   - **Особливості**: Аналіз складності зображень для alt-тексту

3. **Azure Computer Vision API**
   - **Опис**: AI сервіс для опису зображень
   - **Використання**: REST API
   - **Особливості**: Автоматична генерація описів зображень

#### Для аналізу структури та навігації:
1. **Beautiful Soup 4**
   - **Опис**: Парсинг HTML для аналізу структури
   - **Використання**: `pip install beautifulsoup4`
   - **Особливості**: Аналіз заголовків, landmarks, семантики

2. **html5lib**
   - **Опис**: HTML5 парсер для точного аналізу структури
   - **Використання**: `pip install html5lib`
   - **Особливості**: Відповідність HTML5 стандартам

3. **Puppeteer**
   - **Опис**: Контроль Chrome для аналізу динамічного контенту
   - **Використання**: `npm install puppeteer`
   - **Особливості**: Тестування keyboard navigation

#### Для аналізу тексту та зрозумілості:
1. **textstat**
   - **Опис**: Аналіз складності тексту
   - **Використання**: `pip install textstat`
   - **Особливості**: Flesch Reading Ease, Gunning Fog Index

2. **Natural Language Toolkit (NLTK)**
   - **Опис**: Обробка природної мови
   - **Використання**: `pip install nltk`
   - **Особливості**: Аналіз складності речень, словника

3. **spaCy**
   - **Опис**: Сучасна NLP бібліотека
   - **Використання**: `pip install spacy`
   - **Особливості**: Аналіз граматичної складності

#### Для аналізу локалізації та мов:
1. **langdetect**
   - **Опис**: Визначення мови тексту
   - **Використання**: `pip install langdetect`
   - **Особливості**: Підтримка 55+ мов

2. **polyglot**
   - **Опис**: Багатомовний NLP інструмент
   - **Використання**: `pip install polyglot`
   - **Особливості**: Аналіз багатомовності контенту

3. **Google Translate API**
   - **Опис**: Перевірка якості перекладів
   - **Використання**: Google Cloud API
   - **Особливості**: Оцінка якості локалізації

### Інструменти для автоматизації та CI/CD:

#### 1. **axe-playwright**
- **Опис**: Інтеграція axe-core з Playwright
- **Використання**: `npm install @axe-core/playwright`
- **Особливості**: Автоматизоване тестування в CI/CD

#### 2. **jest-axe**
- **Опис**: Jest матчери для тестування доступності
- **Використання**: `npm install jest-axe`
- **Особливості**: Unit тести доступності

#### 3. **cypress-axe**
- **Опис**: Cypress команди для тестування доступності
- **Використання**: `npm install cypress-axe`
- **Особливості**: E2E тести доступності

### Хмарні сервіси та API:

#### 1. **AccessiBe API**
- **Опис**: AI-powered аналіз доступності
- **Особливості**: Автоматичні рекомендації для покращення

#### 2. **Siteimprove Accessibility API**
- **Опис**: Професійний сервіс аналізу доступності
- **Особливості**: Детальна аналітика та моніторинг

#### 3. **Deque WorldSpace API**
- **Опис**: Корпоративне рішення для тестування доступності
- **Особливості**: Інтеграція з розробкою

### Інструменти для візуального тестування:

#### 1. **Stark (Figma/Sketch plugin)**
- **Опис**: Перевірка контрасту в дизайні
- **Особливості**: Інтеграція з дизайн-інструментами

#### 2. **Colour Contrast Analyser (CCA)**
- **Опис**: Desktop додаток для аналізу контрасту
- **Особливості**: Точні вимірювання кольорів

#### 3. **NVDA Screen Reader**
- **Опис**: Безкоштовний screen reader для тестування
- **Особливості**: Реальне тестування з допоміжними технологіями

### Рекомендації по вибору інструментів:

#### Для базового аналізу:
- **axe-core** + **Lighthouse** + **Pa11y**

#### Для детального аналізу:
- **WAVE API** + **Tenon.io** + **custom scripts**

#### Для конкретних метрик:
- **Контраст**: color-contrast-analyzer + colorjs.io
- **Структура**: Beautiful Soup + html5lib
- **Текст**: textstat + spaCy
- **Локалізація**: langdetect + Google Translate API

#### Для автоматизації:
- **axe-playwright** для E2E тестів
- **jest-axe** для unit тестів
- **GitHub Actions** для CI/CD інтеграції

## Структура майбутнього веб-інтерфейсу

### Frontend:
- Поле для введення URL
- Прогрес-бар аналізу
- Детальний звіт з візуалізацією метрик
- Рекомендації для покращення

### Backend:
- API для запуску аналізу
- Асинхронна обробка запитів
- Збереження результатів
- Генерація PDF звітів

## Наступні кроки розробки

1. **Реалізація точних формул** з наукової статті
2. **Інтеграція додаткових бібліотек** для повного аналізу
3. **Створення веб-інтерфейсу** для зручності використання
4. **Імплементація всіх метрик** доступності
5. **Додавання візуалізації результатів**
6. **Створення системи рекомендацій** для покращення доступності

## Технічні вимоги для розширення

### Python пакети (requirements.txt):
```
# Основні інструменти
playwright>=1.40.0
beautifulsoup4>=4.12.0
selenium>=4.15.0

# Аналіз доступності
axe-selenium-python>=2.1.6

# Обробка зображень та OCR
opencv-python>=4.8.0
pillow>=10.0.0
pytesseract>=0.3.10

# Аналіз кольорів та контрасту
colour-science>=0.4.3
colorspacious>=1.1.2

# Обробка тексту та NLP
textstat>=0.7.3
nltk>=3.8.1
spacy>=3.7.0
langdetect>=1.0.9
polyglot>=16.07.04

# Веб-фреймворк та API
fastapi>=0.104.0
uvicorn>=0.24.0
requests>=2.31.0
aiohttp>=3.9.0

# Візуалізація та звіти
pandas>=2.1.0
matplotlib>=3.8.0
seaborn>=0.13.0
plotly>=5.17.0
jinja2>=3.1.2
weasyprint>=60.0

# Тестування
pytest>=7.4.0
pytest-asyncio>=0.21.0
```

### JavaScript/Node.js пакети (package.json):
```json
{
  "dependencies": {
    "axe-core": "^4.8.0",
    "pa11y": "^7.0.0",
    "lighthouse": "^11.0.0",
    "@axe-core/playwright": "^4.8.0",
    "puppeteer": "^21.0.0",
    "color-contrast-analyzer": "^3.0.0",
    "colorjs.io": "^0.4.0"
  },
  "devDependencies": {
    "jest": "^29.0.0",
    "jest-axe": "^8.0.0",
    "cypress": "^13.0.0",
    "cypress-axe": "^1.5.0"
  }
}
```

### Веб-фреймворк та Frontend:
#### Backend:
- **FastAPI** - сучасний Python веб-фреймворк з автоматичною документацією API
- **Uvicorn** - ASGI сервер для асинхронної обробки
- **SQLAlchemy** - ORM для збереження результатів аналізу
- **Redis** - кешування та черги для асинхронної обробки

#### Frontend:
- **React** або **Vue.js** - сучасні SPA фреймворки
- **TypeScript** - типізація для надійності коду
- **Chart.js** або **D3.js** - візуалізація метрик доступності
- **Tailwind CSS** - стилізація з фокусом на доступність

#### Додаткові інструменти:
- **Docker** - контейнеризація для легкого розгортання
- **GitHub Actions** - CI/CD для автоматизованого тестування
- **Nginx** - reverse proxy та статичні файли

Цей аналіз показує, що проект має міцну наукову основу, але потребує значного розширення для повної реалізації методології, описаної в науковій статті.